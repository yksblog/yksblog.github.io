<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs使用</title>
<meta name="generator" content="Org Mode" />
<link rel='shortcut icon' href='https://yksblog.github.io/themes/favicon.ico' type='image/x-icon' />
           <link rel='stylesheet' href='https://yksblog.github.io/themes/style.css' type='text/css'  />
           <script type='module' src='https://yksblog.github.io/themes/main.js' defer></script>
<meta name="card" content="">
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs使用</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgb0462d7">快捷键</a></li>
<li><a href="#orgdcaca7b">eww</a>
<ul>
<li><a href="#org99db692">Emacs浏览器及快捷键</a></li>
<li><a href="#orga16f41f">快捷键</a></li>
<li><a href="#org4d5e265">设置eww搜索引擎</a></li>
<li><a href="#org979f603">加载外部el文件并执行el的方法</a></li>
<li><a href="#orgcbf39f1">关于导出html缓存</a>
<ul>
<li><a href="#orgd4ef12f">eg</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org653e885">资源</a></li>
</ul>
</div>
</div>


<div id="outline-container-orgb0462d7" class="outline-2">
<h2 id="orgb0462d7">快捷键</h2>
<div class="outline-text-2" id="text-orgb0462d7">
<table>


<colgroup>
<col  class="org-left">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">操作描述</th>
<th scope="col" class="org-left">快捷键</th>
<th scope="col" class="org-left">命令名</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">输入命令</td>
<td class="org-left">M-x</td>
<td class="org-left">execute-extended-command</td>
</tr>

<tr>
<td class="org-left">退出程序</td>
<td class="org-left">C-x C-c</td>
<td class="org-left">save-buffers-kill-terminal</td>
</tr>

<tr>
<td class="org-left">放弃当前输入</td>
<td class="org-left">C-g</td>
<td class="org-left">keyboard-quit</td>
</tr>

<tr>
<td class="org-left">光标向上一行（方向键上）</td>
<td class="org-left">C-p</td>
<td class="org-left">previous-line</td>
</tr>

<tr>
<td class="org-left">光标向下一行（方向键下）</td>
<td class="org-left">C-n</td>
<td class="org-left">next-line</td>
</tr>

<tr>
<td class="org-left">光标向左一个字符（方向键左）</td>
<td class="org-left">C-b</td>
<td class="org-left">backward-char</td>
</tr>

<tr>
<td class="org-left">光标向右一个字符（方向键右）</td>
<td class="org-left">C-f</td>
<td class="org-left">forward-char</td>
</tr>

<tr>
<td class="org-left">光标向左移动一个词</td>
<td class="org-left">M-b</td>
<td class="org-left">backward-word</td>
</tr>

<tr>
<td class="org-left">光标向右移动一个词</td>
<td class="org-left">M-f</td>
<td class="org-left">forward-word</td>
</tr>

<tr>
<td class="org-left">光标移至行首</td>
<td class="org-left">C-a</td>
<td class="org-left">move-beginning-of-line</td>
</tr>

<tr>
<td class="org-left">光标移至行尾</td>
<td class="org-left">C-e</td>
<td class="org-left">move-end-of-line</td>
</tr>

<tr>
<td class="org-left">光标移动到一行缩进的开头</td>
<td class="org-left">M-m</td>
<td class="org-left">back-to-indentation</td>
</tr>

<tr>
<td class="org-left">光标移至句首</td>
<td class="org-left">M-a</td>
<td class="org-left">backward-sentence</td>
</tr>

<tr>
<td class="org-left">光标移至句尾</td>
<td class="org-left">M-e</td>
<td class="org-left">forward-sentence</td>
</tr>

<tr>
<td class="org-left">光标移至文件开头</td>
<td class="org-left">M-&lt;</td>
<td class="org-left">beginning-of-buffer</td>
</tr>

<tr>
<td class="org-left">光标移至文件结尾</td>
<td class="org-left">M-&gt;</td>
<td class="org-left">end-of-buffer</td>
</tr>

<tr>
<td class="org-left">光标移动至窗口的中间、最上、最下</td>
<td class="org-left">M-r</td>
<td class="org-left">move-to-window-line-top-bottom</td>
</tr>

<tr>
<td class="org-left">删除光标右侧字符</td>
<td class="org-left">C-d</td>
<td class="org-left">delete-char</td>
</tr>

<tr>
<td class="org-left">移除光标右侧词</td>
<td class="org-left">M-d</td>
<td class="org-left">kill-word</td>
</tr>

<tr>
<td class="org-left">移除光标左侧词</td>
<td class="org-left">M-</td>
<td class="org-left">backward-kill-word</td>
</tr>

<tr>
<td class="org-left">移除右侧直到句子结尾</td>
<td class="org-left">M-k</td>
<td class="org-left">kill-sentence</td>
</tr>

<tr>
<td class="org-left">移除右侧直到行尾</td>
<td class="org-left">C-k</td>
<td class="org-left">kill-line</td>
</tr>

<tr>
<td class="org-left">设置标记以选择区域</td>
<td class="org-left">C-SPC</td>
<td class="org-left">set-mark-command</td>
</tr>

<tr>
<td class="org-left">复制区域</td>
<td class="org-left">M-w</td>
<td class="org-left">kill-region-save</td>
</tr>

<tr>
<td class="org-left">移除区域</td>
<td class="org-left">C-w</td>
<td class="org-left">kill-region</td>
</tr>

<tr>
<td class="org-left">插入已移除文本</td>
<td class="org-left">C-y</td>
<td class="org-left">yank</td>
</tr>

<tr>
<td class="org-left">插入历史移除文本</td>
<td class="org-left">M-y</td>
<td class="org-left">yank-pop</td>
</tr>

<tr>
<td class="org-left">撤回</td>
<td class="org-left">C-/ 或 C-_ 或 C-x u</td>
<td class="org-left">undo</td>
</tr>

<tr>
<td class="org-left">跳转到上一标记</td>
<td class="org-left">C-x C-SPC 或 C-u C-SPC</td>
<td class="org-left">pop-global-mark</td>
</tr>

<tr>
<td class="org-left">跳转到行号</td>
<td class="org-left">M-g M-g</td>
<td class="org-left">goto-line</td>
</tr>

<tr>
<td class="org-left">重复</td>
<td class="org-left">C-u</td>
<td class="org-left">universal-argument</td>
</tr>

<tr>
<td class="org-left">向下一页</td>
<td class="org-left">C-v</td>
<td class="org-left">scroll-up-command</td>
</tr>

<tr>
<td class="org-left">向上一页</td>
<td class="org-left">M-v</td>
<td class="org-left">scroll-down-command</td>
</tr>

<tr>
<td class="org-left">移动页面使得光标在中央/最上方/最下方</td>
<td class="org-left">C-l</td>
<td class="org-left">recenter-top-bottom</td>
</tr>

<tr>
<td class="org-left">向后搜索</td>
<td class="org-left">C-s</td>
<td class="org-left">isearch-forward</td>
</tr>

<tr>
<td class="org-left">向前搜索</td>
<td class="org-left">C-r</td>
<td class="org-left">isearch-backward</td>
</tr>

<tr>
<td class="org-left">交换前后字符</td>
<td class="org-left">C-t</td>
<td class="org-left">transpose-chars</td>
</tr>

<tr>
<td class="org-left">交换前后词</td>
<td class="org-left">M-t</td>
<td class="org-left">transpose-words</td>
</tr>

<tr>
<td class="org-left">交换前后两行</td>
<td class="org-left">C-x C-t</td>
<td class="org-left">transpose-lines</td>
</tr>

<tr>
<td class="org-left">在下方新建一行</td>
<td class="org-left">C-o</td>
<td class="org-left">open-line</td>
</tr>

<tr>
<td class="org-left">删除连续空行为一个空行</td>
<td class="org-left">C-x C-o</td>
<td class="org-left">delete-blank-lines</td>
</tr>

<tr>
<td class="org-left">将后面的词变为小写</td>
<td class="org-left">M-l</td>
<td class="org-left">downcase-word</td>
</tr>

<tr>
<td class="org-left">将后面的词变为大写</td>
<td class="org-left">M-u</td>
<td class="org-left">upcase-word</td>
</tr>

<tr>
<td class="org-left">将后面的词变为首字母大写</td>
<td class="org-left">M-c</td>
<td class="org-left">capitalize-word</td>
</tr>

<tr>
<td class="org-left">简要描述快捷键功能</td>
<td class="org-left">C-h c</td>
<td class="org-left">describe-key-briefly</td>
</tr>

<tr>
<td class="org-left">描述快捷键功能</td>
<td class="org-left">C-h k</td>
<td class="org-left">describe-key</td>
</tr>

<tr>
<td class="org-left">描述函数功能</td>
<td class="org-left">C-h f</td>
<td class="org-left">describe-function</td>
</tr>

<tr>
<td class="org-left">描述变量</td>
<td class="org-left">C-h v</td>
<td class="org-left">describe-variable</td>
</tr>

<tr>
<td class="org-left">列出含某一关键词的命令</td>
<td class="org-left">C-h a</td>
<td class="org-left">apropos-command</td>
</tr>

<tr>
<td class="org-left">列出含某一关键词的符号的文档</td>
<td class="org-left">C-h d</td>
<td class="org-left">apropos-documentation</td>
</tr>

<tr>
<td class="org-left">帮助的帮助</td>
<td class="org-left">C-h ?</td>
<td class="org-left">help-for-help</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgdcaca7b" class="outline-2">
<h2 id="orgdcaca7b">eww</h2>
<div class="outline-text-2" id="text-orgdcaca7b">
<p>
<a href="https://blog.csdn.net/u010164190/article/details/79542297">eww-csdn</a>
</p>
</div>

<div id="outline-container-org99db692" class="outline-3">
<h3 id="org99db692">Emacs浏览器及快捷键</h3>
<div class="outline-text-3" id="text-org99db692">
<pre class="example">
`M-x eww` //进入浏览器
</pre>
</div>
</div>


<div id="outline-container-orga16f41f" class="outline-3">
<h3 id="orga16f41f">快捷键</h3>
<div class="outline-text-3" id="text-orga16f41f">
<pre class="example">
按键	函数	作用
q	eww-quit	退出eww
g	eww-reload	重载该页面
G    eww             打开新链接
w	eww-copy-page-url	拷贝当前URL到kill ring
d	eww-download	下载光标所在的URL,下载的目录存在变量`eww-download-directory`中,默认为~/Downloads
l	eww-back-url	回退上一个URL
r	eww-forward-url	前进到下一个URL
R	read						阅读模式
H	eww-list-histories	显示浏览历史
b	eww-add-bookmark	加书签
B	eww-list-bookmarks	显示书签列表
&amp;	eww-browse-with-external-browser	使用外部浏览器打开当前浏览的URL,外部浏览器由变量`shr-external-browser`决定
v	eww-view-source	查看页面源代码
C	eww-cookie-list	列示Cookie

% + m //查找标记文件
Alt + ! //输入shell命令
C-h m //查看快捷键
C-h e //查看emacs回显
</pre>
</div>
</div>

<div id="outline-container-org4d5e265" class="outline-3">
<h3 id="org4d5e265">设置eww搜索引擎</h3>
<div class="outline-text-3" id="text-org4d5e265">
<ul class="org-ul">
<li>进入eww</li>
<li>C-h v 查找 eww-search-prefix</li>
<li>点击 Set 按钮，设置value = "<a href="https://www.bing.com/search?q">https://www.bing.com/search?q</a>="</li>
</ul>
</div>
</div>


<div id="outline-container-org979f603" class="outline-3">
<h3 id="org979f603">加载外部el文件并执行el的方法</h3>
<div class="outline-text-3" id="text-org979f603">
<div class="org-src-container">
<pre class="src src-lisp">emacsclient -n --eval <span style="color: #ffa07a;">"(load-file \"publish-config.el\")"</span>
</pre>
</div>

<p>
<b>publish-config.el</b>
</p>
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #8c8c8c;">(</span><span style="color: #00ffff;">require</span> '<span style="color: #7fffd4;">ox-publish</span><span style="color: #8c8c8c;">)</span>
<span style="color: #8c8c8c;">(</span>setq org-publish-project-alist
      '<span style="color: #93a8c6;">(</span><span style="color: #b0b1a3;">(</span><span style="color: #ffa07a;">"orgfiles"</span>
         <span style="color: #b0c4de;">:base-directory</span> <span style="color: #ffa07a;">"~/www/orgs/"</span>
         <span style="color: #b0c4de;">:publishing-directory</span> <span style="color: #ffa07a;">"~/www/htmls/"</span>
         <span style="color: #b0c4de;">:base-extension</span> <span style="color: #ffa07a;">"org"</span>
         <span style="color: #b0c4de;">:exclude</span> <span style="color: #ffa07a;">"^_[[:word:]-]*.org"</span>
         <span style="color: #b0c4de;">:recursive</span> t
         <span style="color: #b0c4de;">:publishing-function</span> org-html-publish-to-html
         <span style="color: #b0c4de;">:headline-levels</span> 6    <span style="color: #808080;">;; </span><span style="color: #808080;">org-export-headline-levels</span>
         <span style="color: #b0c4de;">:language</span> <span style="color: #ffa07a;">"zh"</span>        <span style="color: #808080;">;; </span><span style="color: #808080;">org-export-default-language</span>
         <span style="color: #b0c4de;">:section-numbers</span> nil  <span style="color: #808080;">;; </span><span style="color: #808080;">org-export-with-section-numbers</span>
         <span style="color: #b0c4de;">:with-planning</span> t      <span style="color: #808080;">;; </span><span style="color: #808080;">org-export-with-planning</span>
         <span style="color: #b0c4de;">:with-priority</span> t      <span style="color: #808080;">;; </span><span style="color: #808080;">org-export-with-priority ;</span>
         <span style="color: #808080;">;;  </span><span style="color: #808080;">:with-tags not-in-toc ;; org-export-with-tags</span>
         <span style="color: #b0c4de;">:with-toc</span> t           <span style="color: #808080;">;; </span><span style="color: #808080;">org-export-with-toc</span>
         <span style="color: #b0c4de;">:html-doctype</span> <span style="color: #ffa07a;">"html5"</span>
         <span style="color: #b0c4de;">:html-head-include-default-style</span> nil <span style="color: #808080;">;; </span><span style="color: #808080;">org-html-head-include-default-style</span>
         <span style="color: #b0c4de;">:html-head-include-scripts</span> nil <span style="color: #808080;">;; </span><span style="color: #808080;">org-html-head-include-scripts</span>
         <span style="color: #b0c4de;">:html-checkbox-type</span> unicode  <span style="color: #808080;">;; </span><span style="color: #808080;">org-html-checkbox-type</span>
         <span style="color: #808080;">;; </span><span style="color: #808080;">:html-link-home "index.html"  ;; org-html-link-home</span>
         <span style="color: #808080;">;; </span><span style="color: #808080;">:html-link-up "uUP"          ;; org-html-link-up</span>
         <span style="color: #b0c4de;">:html-validation-link</span> <span style="color: #ffa07a;">"&lt;a href=\"http://beian.miit.gov.cn/\"&gt;hello-world&lt;/a&gt;"</span>
         <span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ykyk-site-html</span><span style="color: #93a8c6;">()</span>
  <span style="color: #93a8c6;">(</span>interactive<span style="color: #93a8c6;">)</span>
  <span style="color: #93a8c6;">(</span>org-publish-all<span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>

<span style="color: #8c8c8c;">(</span>ykyk-site-html<span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcbf39f1" class="outline-3">
<h3 id="orgcbf39f1">关于导出html缓存</h3>
<div class="outline-text-3" id="text-orgcbf39f1">
<ul class="org-ul">
<li><code>org-publish-use-timestamps-flag</code> 默认值 t，即默认使用缓存。缓存文件默认存放在 <code>~/.org-timestamps/orgfiles.cache</code> 中</li>
<li>每次调用 <code>org-publish-all</code> 方法导出html时，先读取缓存文件，查看是否需要 <code>Skipping unmodified file</code></li>
<li>若要不使用缓存，强制导出html，可以设置 <code>org-publish-use-timestamps-flag</code> 的值为 nil。这样就不会读取缓存文件了，而是直接重新导出项目下所有的org文件为html文件</li>
</ul>
</div>
<div id="outline-container-orgd4ef12f" class="outline-4">
<h4 id="orgd4ef12f">eg</h4>
<div class="outline-text-4" id="text-orgd4ef12f">
<div class="org-src-container">
<pre class="src src-elisp"><span class="linenr"> 1: </span><span style="color: #8c8c8c;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ykyk-site-html-local</span><span style="color: #93a8c6;">()</span>
<span class="linenr"> 2: </span>  <span style="color: #93a8c6;">(</span><span style="color: #00ffff;">interactive</span><span style="color: #93a8c6;">)</span>
<span class="linenr"> 3: </span>  <span style="color: #93a8c6;">(</span><span style="color: #00ffff;">progn</span>
<span class="linenr"> 4: </span>    <span style="color: #b0b1a3;">(</span><span style="color: #00ffff;">setq</span> org-publish-use-timestamps-flag t<span style="color: #b0b1a3;">)</span>
<span class="linenr"> 5: </span>    <span style="color: #b0b1a3;">(</span>ykyk-jobs-menu <span style="color: #ffa07a;">"1"</span><span style="color: #b0b1a3;">)</span>
<span class="linenr"> 6: </span>    <span style="color: #b0b1a3;">(</span>org-publish-all<span style="color: #b0b1a3;">)</span>
<span class="linenr"> 7: </span>    <span style="color: #b0b1a3;">(</span>message <span style="color: #ffa07a;">"local-ok"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
<span class="linenr"> 8: </span>
<span class="linenr"> 9: </span><span style="color: #8c8c8c;">(</span><span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ykyk-site-html-local-force</span><span style="color: #93a8c6;">()</span>
<span class="linenr">10: </span>  <span style="color: #93a8c6;">(</span><span style="color: #00ffff;">interactive</span><span style="color: #93a8c6;">)</span>
<span class="linenr">11: </span>  <span style="color: #93a8c6;">(</span><span style="color: #00ffff;">progn</span>
<span class="linenr">12: </span>    <span style="color: #b0b1a3;">(</span><span style="color: #00ffff;">setq</span> org-publish-use-timestamps-flag nil<span style="color: #b0b1a3;">)</span>
<span class="linenr">13: </span>    <span style="color: #b0b1a3;">(</span>ykyk-jobs-menu <span style="color: #ffa07a;">"1"</span><span style="color: #b0b1a3;">)</span>
<span class="linenr">14: </span>    <span style="color: #b0b1a3;">(</span>org-publish-all<span style="color: #b0b1a3;">)</span>
<span class="linenr">15: </span>    <span style="color: #b0b1a3;">(</span>message <span style="color: #ffa07a;">"local-ok"</span><span style="color: #b0b1a3;">)</span><span style="color: #93a8c6;">)</span><span style="color: #8c8c8c;">)</span>
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org653e885" class="outline-2">
<h2 id="org653e885">资源</h2>
<div class="outline-text-2" id="text-org653e885">
<ul class="org-ul">
<li><a href="https://aifreedom.com/technology/112">emacs快捷键</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2022-02-07 Mon 09:24</p>
</div>
</body>
</html>
